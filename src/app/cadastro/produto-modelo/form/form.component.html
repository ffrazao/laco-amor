<form class="text-left" [formGroup]="frm" (ngSubmit)="enviar($event)">

    <p class="h5 mb-4">Formulário ({{acao}})</p>

    <div class="form-group">
        <label for="nome">Nome do Produto:</label>
        <input type="text" class="form-control" id="nome" formControlName="nome">
        <div class="alert alert-danger" role="alert" *ngIf="isEnviado && frm.controls.nome.invalid">
            <p *ngIf="frm.controls.nome.errors.required">
                Campo obrigatório!
            </p>
        </div>
    </div>

    <div class="form-group">
        <label for="codigo">Código do Produto:</label>
        <input type="text" class="form-control" id="codigo" formControlName="codigo">
        <div class="alert alert-danger" role="alert" *ngIf="isEnviado && frm.controls.codigo.invalid">
            <p *ngIf="frm.controls.codigo.errors.required">
                Campo obrigatório!
            </p>
        </div>
    </div>

    <div class="form-group">
        <label for="usr">Matéria Prima:</label>
        <label class="form-control">
            <input type="radio" name="materiaPrima" id="S" formControlName="materiaPrima" autocomplete="off" value="S">
            Sim
        </label>
        <label class="form-control">
            <input type="radio" name="materiaPrima" id="N" formControlName="materiaPrima" autocomplete="off" value="N">
            Não
        </label>
    </div>
    <div class="alert alert-danger" role="alert" *ngIf="isEnviado && frm.controls.materiaPrima.invalid">
        <p *ngIf="frm.controls.materiaPrima.errors.required">
            Campo obrigatório!
        </p>
    </div>
    <div class="form-group">
        <label for="foto">Foto:</label>
        <div class="row">
            <div class="col">
                <button class="btn btn-primary m-2" (click)="carregarFoto($event)">Carregar</button>
                <button class="btn btn-primary m-2" (click)="limparFoto($event)">Limpar</button>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <img alt="Foto" id="foto" [src]="fotoLocal" class="img-fluid">
            </div>
        </div>
    </div>
    <!--
    <div class="form-group" formArrayName="produtoDescricaoList">
        <label for="produtoDescricao">Descrição(ões):</label>
        <table class="table">
            <thead>
                <tr>
                    <th>Atributo</th>
                    <th>Valor</th>
                    <th>Ordem</th>
                    <th>Ação</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let el of produtoDescricaoList.controls; index as i;" [formGroupName]="i">
                    <td [formGroup]="el.controls.produtoDescricao">
                        <input *ngIf="el.editar" class="form-control" type="text" formControlName="produtoAtributo">
                        <label *ngIf="!el.editar">{{el.value.produtoDescricao.produtoAtributo}}</label>
                        <div class="alert alert-danger" role="alert"
                            *ngIf="isEnviado && el.controls.produtoDescricao.controls.produtoAtributo.invalid">
                            <p *ngIf="el.controls.produtoDescricao.controls.produtoAtributo.errors.required">
                                Campo obrigatório!
                            </p>
                        </div>
                    </td>
                    <td [formGroup]="el.controls.produtoDescricao">
                        <input *ngIf="el.editar" class="form-control" type="text" formControlName="valor">
                        <label *ngIf="!el.editar">{{el.value.produtoDescricao.valor}}</label>
                        <div class="alert alert-danger" role="alert"
                            *ngIf="isEnviado && el.controls.produtoDescricao.controls.valor.invalid">
                            <p *ngIf="el.controls.produtoDescricao.controls.valor.errors.required">
                                Campo obrigatório!
                            </p>
                        </div>
                    </td>
                    <td [formGroup]="el.controls.produtoDescricao">
                        <input *ngIf="el.editar" class="form-control" type="text" formControlName="ordem">
                        <label *ngIf="!el.editar">{{el.value.produtoDescricao.ordem}}</label>
                        <div class="alert alert-danger" role="alert"
                            *ngIf="isEnviado && el.controls.produtoDescricao.controls.ordem.invalid">
                            <p *ngIf="el.controls.produtoDescricao.controls.ordem.errors.required">
                                Campo obrigatório!
                            </p>
                        </div>
                    </td>
                    <td>
                        <a (click)="el.editar=!el.editar;">{{el.editar?'salvar':'editar'}}</a> |
                        <a (click)="excluirProdutoDescricao(i);" *ngIf="!el.editar">excluir</a>
                    </td>
                </tr>
            </tbody>
        </table>
        <button type="button" (click)="novoProdutoDescricao()">Adicionar</button>
    </div>
    -->

    <!-- <p>{{frm.status}}</p>
    <p>{{frm.errors | json}}</p>
    <p>{{frm.value | json}}</p> -->
    <button class="btn btn-info btn-block" type="submit">Enviar</button>
</form>